<view class="container">
    <view class="card">
        <form bindsubmit="onFormSubmit">
            <!-- 日期选择 -->
            <view class="form-item">
                <t-cell title="选择日期" hover note="{{dateText || ''}}" arrow data-mode="date" bindtap="showPicker" class="test" t-class="panel-item" />

                <!-- 年月日 -->
                <t-date-time-picker auto-close title="选择日期" s howWeek visible="{{dateVisible}}" mode="date" default-value="{{date}}" value="{{date}}" format="YYYY-MM-DD ddd" start="2021-01-01" end="2099-12-31" filter="{{filter}}" popup-props="{{popupProps}}" bindchange="onConfirm" bindpick="onColumnChange" bindcancel="hidePicker" bindclose="handleClose" />

            </view>

            <!-- 金额类型 -->
            <view class="form-item">
                <view class="form-label">金额类型</view>
                <t-radio-group value="{{amountType}}" bind:change="onAmountTypeChange">
                    <t-radio value="income" label="收入（正数）" />
                    <t-radio value="expense" label="支出（负数）" />
                </t-radio-group>
            </view>

            <!-- 金额输入 -->
            <view class="form-item">
                <view class="form-label">金额</view>
                <t-input prefixIcon="money-circle" placeholder="请输入金额" type="digit" value="{{amount}}" bind:change="onAmountChange" />
                <view class="help-text">请输入数字，支持小数点后两位</view>
            </view>

            <!-- 描述输入 -->
            <view class="form-item">
                <view class="form-label">描述</view>
                <t-textarea placeholder="请输入描述信息（选填）" maxlength="100" indicator value="{{description}}" bind:change="onDescriptionChange" />
            </view>

            <!-- 提交按钮 -->
            <view class="button-group">
                <t-button theme="default" bind:tap="onCancel">取消</t-button>
                <t-button theme="primary" bind:tap="onFormSubmit">保存</t-button>
            </view>
        </form>
    </view>
</view>

<t-toast id="t-toast" />