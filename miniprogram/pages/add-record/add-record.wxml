<view class="container">
  <view class="card">
    <form bindsubmit="onFormSubmit">
      <!-- 日期选择 -->
      <view class="form-item">
        <view class="form-label">日期</view>
        <t-date-time-picker
          mode="date"
          value="{{date}}"
          format="YYYY-MM-DD"
          title="选择日期"
          bind:confirm="onDateChange"
        >
          <t-input 
            placeholder="请选择日期" 
            value="{{dateFormatted}}" 
            disabled 
            suffixIcon="chevron-down"
          />
        </t-date-time-picker>
      </view>

      <!-- 金额类型 -->
      <view class="form-item">
        <view class="form-label">金额类型</view>
        <t-radio-group value="{{amountType}}" bind:change="onAmountTypeChange">
          <t-radio value="income" label="收入（正数）" />
          <t-radio value="expense" label="支出（负数）" />
        </t-radio-group>
      </view>

      <!-- 金额输入 -->
      <view class="form-item">
        <view class="form-label">金额</view>
        <t-input
          prefixIcon="money-circle"
          placeholder="请输入金额"
          type="digit"
          value="{{amount}}"
          bind:change="onAmountChange"
        />
        <view class="help-text">请输入数字，支持小数点后两位</view>
      </view>

      <!-- 描述输入 -->
      <view class="form-item">
        <view class="form-label">描述</view>
        <t-textarea
          placeholder="请输入描述信息（选填）"
          maxlength="100"
          indicator
          value="{{description}}"
          bind:change="onDescriptionChange"
        />
      </view>

      <!-- 提交按钮 -->
      <view class="button-group">
        <t-button theme="default" bind:tap="onCancel">取消</t-button>
        <t-button theme="primary" form-type="submit">保存</t-button>
      </view>
    </form>
  </view>
</view>

<t-toast id="t-toast" /> 